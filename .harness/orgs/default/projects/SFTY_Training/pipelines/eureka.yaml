pipeline:
  name: eureka
  identifier: eureka
  projectIdentifier: SFTY_Training
  orgIdentifier: default
  tags: {}
  properties:
    ci:
      codebase:
        connectorRef: eurekamahesh
        build: <+input>
  stages:
    - parallel:
        - stage:
            name: build
            identifier: build
            description: ""
            type: CI
            spec:
              cloneCodebase: true
              caching:
                enabled: true
                override: true
              platform:
                os: Linux
                arch: Amd64
              runtime:
                type: Cloud
                spec: {}
              execution:
                steps:
                  - step:
                      type: Run
                      name: build
                      identifier: build
                      spec:
                        shell: Sh
                        command: |-
                          mvn clean package -DskipTests=true
                          ls -lrt target
        - stage:
            name: push-to-jfrog
            identifier: pushtojfrog
            description: ""
            type: CI
            spec:
              cloneCodebase: true
              caching:
                enabled: true
                override: true
              platform:
                os: Linux
                arch: Amd64
              runtime:
                type: Cloud
                spec: {}
              execution:
                steps:
                  - step:
                      type: ArtifactoryUpload
                      name: ArtifactoryUpload_1
                      identifier: ArtifactoryUpload_1
                      spec:
                        connectorRef: mahesh_jfrog
                        target: https://maheshkodali.jfrog.io/artifactory/api/maven/maven-build-libs-snapshot
                        sourcePath: target
